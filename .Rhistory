rm(dupli_steam)
View(dupli_row)
steam_unique <- steam %>%
distinct(user_id, game_title, behaviour_name)
steam_unique <- steam %>%
distinct(used_id, game_title, behaviour_name)
steam_unique <- steam %>%
distinct(used_id, game_title, behaviour_name, value )
steam_unique <-steam %>%
distinct(.keep_all = TRUE)
steam_unque <-steam %>%
distinct(.keep_all = TRUE)
rm(steam_unique)
ign_distinct_V2 <- ign_distinct %>%
distinct(.keep_all = TRUE)
nrow(ign_distinct) - nrow(ign_distinct_V2)
library(data.table)
unique(steam, by = used_ide)
unique(steam, by = used_id)
unique(steam, by = used_id, game_title, behaviour_name, value)
unique(steam, by = used_id, game_title, behaviour_name, value)
unique(steam, by = "used_id", "game_title", "behaviour_name", "value")
unique(steam, by = used_id, "game_title", "behaviour_name", value)
unique(steam, by = used_id, str(game_title), str(behaviour_name), value)
steam <- read_csv( "steam-200K.csv",
show_col_types = FALSE, col_names = F)
#add column names
names(steam) <- c("used_id", "game_title",
"behaviour_name", "value", "x")
# drop the last column and converting it to tibble (as_tibble)
steam <- as_tibble(steam[,1:4])
# load ign file
ign <- read_csv("ign.csv",
show_col_types = FALSE)
# drop the column with row numbers
ign <- as_tibble(ign[,2:11])
# same things as above
ign_1 <- select(ign, -...1)
duplicated_rows <- tibble(duplicated = duplicated(ign),
row = 1:nrow(ign)) %>%
filter(duplicated == T)
# plotting duplicated row numbers in black lines
ggplot(duplicated_rows, aes(xintercept = row)) +
geom_vline(aes(xintercept = row)) +
ggtitle("Indexes of duplicated rows") +
coord_flip() + scale_x_reverse()
duplicated(ign) %>%
sum()
ign_distinct <- distinct(ign)
nrow(ign) - nrow(ign_distinct
)
View(ign_distinct)
ign_distinct <- unique(ign[,c('title', 'url', 'platform')])
ign_distinct_ <- ign %>%
distinct()
remove(ign_distinct_)
ign_distinct <- ign %>%
distinct()
ign_distinct_title <- ign %>%
distinct(title, .keep_all = TRUE)
ign_distinct_title <- ign_distinct %>%
distinct(title, .keep_all = TRUE)
nrow(ign) - nrow(ign_distinct)
nrow(ign_distinct) - nrow(ign_distinct_title)
ign_distinct_title_platform <- ign_distinct %>%
distrinct(title, platform, .keep_all = T )
ign_distinct_title_platform <- ign_distinct %>%
distinct(title, platform, .keep_all = T )
nrow(ign_distinct - ign_distinct_title_platform)
nrow(ign_distinct) - nrow(ign_distinct_title_platform)
ign_Xbox <- ign_distinct %>%
filter(platform)
ggplot(ign_distinct, aes(platform, release_year)) + geom_boxplot()
ggplot(ign_distinct, aes(platform, release_year)) + geom_boxplot() +
coord_flip()
ggplot(ign_distinct, aes(platform, release_year)) + geom_point() +
coord_flip()
ggplot(ign_distinct, aes(platform, title)) + geom_point() +
coord_flip()
ggplot(ign_distinct, aes(platform, sum(title)) + geom_point() +
coord_flip()
count(ign_distinct$title)
ggplot(ign_distinct, aes(platform, str(title)) + geom_point() +
coord_flip()
ggplot(ign_distinct, aes(platform, score) + geom_point() +
coord_flip()
ggplot(ign_distinct, aes(platform, score)) + geom_point()
ggplot(ign_distinct, aes(platform, score)) + geom_point()
dupli_row <- tibble(duplicated = duplicated(steam),
row = 1:nrow(steam)) %>%
filter(duplicated == T)
## plotting the duplicated row numbers in black lines
ggplot(dupli_row, aes(xintercept = row)) +
geom_vline(aes(xintercept = row)) +
ggtitle("Indexes of duplicated rows") +
coord_flip() + scale_x_reverse()
duplicated(steam) %>%
sum()
steam_distinct <- steam %>%
distinct()
# double check
nrow(steam) - nrow(steam_distinct)
# checked, looks good
View(steam_distinct)
steam_distinct_play <- steam_distinct %>%
filter(behaviour_name = "play")
steam_distinct_play <- steam_distinct %>%
filter(behaviour_name == "play")
steam_distinct_purchase <- steam_distinct %>%
filter(behavious_name == "purchase")
steam_distinct_purchase <- steam_distinct %>%
filter(behaviour_name == "purchase")
nrow(steam_distinct_play) + nrow(steam_distinct_purchase) = nrow(steam_distinct)
nrow(steam_distinct_play) + nrow(steam_distinct_purchase) == nrow(steam_distinct)
steam_distinct_play_filter <- steam_distinct_play %>%
distinct(game_title, user_id, .keep_all = T )
steam_distinct_play_filter <- steam_distinct_play %>%
distinct(game_title, used_id, .keep_all = T )
steam_distinct_play
steam_distinct_rep <- steam_distinct%>%
distinct(game_title, used_id, .keep_all = F )
View(steam_distinct_rep)
steam_distinct_rep <- steam_distinct%>%
distinct(game_title, used_id, .keep_all = TRUE )
View(steam_distinct_rep)
getwd()
library(tidyverse)
library(lubridate)
airbnb <- read_csv("listings.csv")
pak_drone <- read_csv("Pakistan_drone_attack_ver9.csv")
mass_shootings <- read_csv("Mass Shootings Dataset Ver 5.csv")
drone_strikes_jan <-pak_drone %>%
janitor::clean_names()
mass_shootings_jan <-mass_shootings %>%
janitor::clean_names()
View(drone_strikes_jan)
drone_strikes_jan <- drone_strikes_jan[-nrow(drone_strikes_jan),]
View(airbnb)
airbnb_char <- airbnb[, sapply(airbnb_char, class) ==
"character"]
airbnb_char <- airbnb[, sapply(airbnb, class) ==
"character"]
str(airbnb_char)
View(airbnb_char)
airbnb_char$room_type
airbnb_char$experiences_offered
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"), contains(
"monthly_price"), contains("security_deposit"), contain("cleaning_fee"),
contains("host_response_time"), contains("host_response_rate"),
contains("zipcode"), contains("extra_people"))
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"), contains(
"monthly_price"), contains("security_deposit"), contains("cleaning_fee"),
contains("host_response_time"), contains("host_response_rate"),
contains("zipcode"), contains("extra_people"))
air_to_be_parsed
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"), contains(
"monthly_price"), contains("security_deposit"), contains("cleaning_fee"),
contains("host_response_rate"), contains("zipcode"),
contains("extra_people"))
air_parsed <- sapply(air_to_be_parsed, parse_number) %>%
as_tibble()
See problems(...)
...
problems
air_to_be_parsed
air_to_be_parsed <- replace(air_to_be_parsed, air_to_be_parsed == "NA", NA)
air_to_be_parsed
air_parsed <- sapply(air_to_be_parsed, parse_number) %>%
as_tibble()
air_parsed <- sapply(air_to_be_parsed != NA, parse_number)  %>%
as_tibble()
air_parsed <- sapply(for air_to_be_parsed != NA, parse_number)  %>%
as_tibble()
air_parsed <- sapply(air_to_be_parsed, parse_number) != NA  %>%
as_tibble()
air_parsed <- sapply(air_to_be_parsed, parse_number) !=  is.NA  %>%
as_tibble()
air_to_be_parsed
glimpse(air_to_be_parsed)
glimpse(airbnb_char)
airbnb_logical <-airbnb[, sapply(airbnb, class)==
"logical"]
glimpse(airbnb_logical)
View(airbnb_logical)
gc()
rm(drone_strikes_jan, mass_shootings, mass_shootings_jan, pak_drone)
gc()
is.na(air_to_be_parsed)
View(air_to_be_parsed)
summary(air_to_be_parsed)
summary(air_to_be_parsed)
sum(air_to_be_parsed)
library(naniar)
library(visdat)
vis_dat(air_to_be_parsed)
vis_miss(air_to_be_parsed)  ## This data too large for visualizing
## gg_miss_var
gg_miss_var(air_to_be_parsed)
air_parsed <- sapply(air_to_be_parsed, parse_number) !  %>%
as_tibble()
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"), contains(
"monthly_price"), contains("security_deposit"), contains("cleaning_fee"),
contains("host_response_rate"), contains("zipcode"),
contains("extra_people"))
air_to_be_parsed <- airbnb_char%>%
select(contains("price"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("monthly_price"),
contains("security_deposit"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
glimpse(air_parsed)
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("monthly_price"), contains("security_deposit"),
contains("weekly_price"), contains("monthly_price"),
contains("security_deposit"), contains("cleaning_fee"),
contains("host_response_rate"), contains("zipcode"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("monthly_price"), contains("security_deposit"),
contains("monthly_price"),
contains("security_deposit"), contains("cleaning_fee"),
contains("host_response_rate"), contains("zipcode"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("security_deposit"), contains("cleaning_fee"),
contains("host_response_rate"), contains("zipcode"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("security_deposit"), contains("cleaning_fee"),
, contains("zipcode"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
glimpse(air_parsed)
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("security_deposit"), contains("cleaning_fee"),
, contains("zipcode"), contains("extra_people"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("security_deposit"), contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"),
contains("weekly_price"),  contains("monthly_price"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
str(air_to_be_parsed)
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"),
contains("host_response_rate"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
glimpse(airbnb_char)
glimpse(airbnb_char)
summarise(airbnb_char$host_acceptance_rate)
airbnb_char$host_response_rate
air_parsed
View(air_parsed)
airbnb_char <- as.numeric(sub("%", "",airbnb_char$host_response_rate,
fixed=TRUE))/100
View(airbnb_char)
airbnb_char <- airbnb[, sapply(airbnb, class) ==
"character"]
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
airbnb_char %>%
mutate_each(funds(as.numeric(gsub("%", "", ., fixed = TRUE))/100))
airbnb_char %>%
mutate_each(funs(as.numeric(gsub("%", "", ., fixed = TRUE))/100))
View(airbnb_char)
airbnb_char %>%
mutate_each(funs(as.numeric(gsub("%", "", ., fixed = TRUE))/100))
airbnb_char$host_response_rate %>%
mutate_each(funs(as.numeric(gsub("%", "", ., fixed = TRUE))/100))
as.numeric(sub("%","",airbnb_char$host_response_rate))/100
View(airbnb_char)
airbnb_char$host_response_rate <- as.numeric(sub("%","",
airbnb_char$host_response_rate))/100
View(airbnb_char)
str(airbnb$host_acceptance_rate)
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"),
contains("host_acceptance_rate"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
airbnb_char$host_response_rate <-
as.numeric(sub("%","", airbnb_char$host_response_rate))/100 # converted
airbnb_char$host_acceptance_rate <-
as.numeric(sub("%","", airbnb_char$host_acceptance_rate))/100 # converted
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"),
contains("host_acceptance_rate"), contains("host_response_rate"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
air_parsed <- sapply(air_to_be_parsed, parse_number)
View(air_to_be_parsed)
glimpse(air_to_be_parsed)
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"),
contains("host_acceptance_rate"), contains("host_response_rate"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
View(air_parsed)
glimpse(airbnb_char)
airbnb$host_response_rate <-
as.numeric(sub("%","", airbnb_char$host_response_rate))/100 # converted
airbnb$host_acceptance_rate <-
as.numeric(sub("%","", airbnb_char$host_acceptance_rate))/100 # converted
airbnb_char <- airbnb[, sapply(airbnb, class) ==
"character"]
glimpse(airbnb_char)
str(airbnb_char)
airbnb_logical <-airbnb[, sapply(airbnb, class)==
"logical"]
glimpse(airbnb_logical)
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"))
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
str(air_parsed)
str(air_to_be_parsed)
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
str(air_parsed)
airbnb_parsed <- airbnb %>%
# removes the old columns
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people")) %>%
# add the columns we parsed earlier
bind_cols(air_parsed)
gplimpse(airbnb_parsed)
str(airbnb_parsed)
View(airbnb)
airbnb <- read_csv("listings.csv")
View(airbnb)
airbnb$host_response_rate <-
as.numeric(sub("%","", airbnb_char$host_response_rate))/100 # converted
airbnb$host_acceptance_rate <-
as.numeric(sub("%","", airbnb_char$host_acceptance_rate))/100 # converted
View(airbnb)
Summary(airbnb)
summary(airbnb)
airbnb$host_response_rate <-
as.numeric(sub("%","", airbnb_char$host_response_rate))/100 # converted
airbnb$host_response_rate <-
as.numeric(sub("%","", airbnb$host_response_rate))/100 # converted
airbnb$host_acceptance_rate <-
as.numeric(sub("%","", airbnb$host_acceptance_rate))/100 # converted
View(airbnb)
airbnb_char <- airbnb[, sapply(airbnb, class) ==
"character"]
glimpse(airbnb_char)
airbnb_numerical <- airbnb[, sapply(airbnb, class) ==
"numerical"]
glimpse(airbnb_numerical)
airbnb_numerical <- airbnb[, sapply(airbnb, class) ==
"numerical"]
glimpse(airbnb_numerical)
airbnb_logical <-airbnb[, sapply(airbnb, class)==
"logical"]
glimpse(airbnb_logical)
airbnb_numeric <- airbnb[, sapply(airbnb, class) ==
"numeric"]
str(airbnb_numeric)
rm(airbnb_numerical)
glimpse(airbnb_char)
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"))
str(air_to_be_parsed)
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
str(air_parsed)
airbnb_parsed <- airbnb %>%
# removes the old columns
select(-contains("price"), -contains("weekly_price"),
-contains("security_deposit"),
-contains("monthly_price"),
-contains("cleaning_fee"),
-contains("zipcode"), -contains("extra_people")) %>%
# add the columns we parsed earlier
bind_cols(air_parsed)
glimpse(airbnb_parsed)
View(airbnb_parsed)
View(airbnb)
airbnb <- read_csv("listings.csv")
airbnb$host_response_rate <-
as.numeric(sub("%","", airbnb$host_response_rate))/100 # converted
airbnb$host_acceptance_rate <-
as.numeric(sub("%","", airbnb$host_acceptance_rate))/100 # converted
airbnb_char <- airbnb[, sapply(airbnb, class) ==
"character"]
str(airbnb_char)
glimpse(airbnb_char)  # lots of false characters
# Check for logical
airbnb_logical <-airbnb[, sapply(airbnb, class)==
"logical"]
glimpse(airbnb_logical)
# check for numericals
airbnb_numeric <- airbnb[, sapply(airbnb, class) ==
"numeric"]
str(airbnb_numeric) # or glimpse does the job too
glimpse(airbnb_numeric)
air_to_be_parsed <- airbnb_char%>%
select(contains("price"), contains("weekly_price"),
contains("security_deposit"),
contains("monthly_price"),
contains("cleaning_fee"),
contains("zipcode"), contains("extra_people"))
str(air_to_be_parsed)
air_parsed <- sapply(air_to_be_parsed, parse_number)  %>%
as_tibble()
str(air_parsed)
## Finally, they are all numeric now!!
## replace the old data with parsed version
airbnb_parsed <- airbnb %>%
# removes the old columns
select(-contains("price"), -contains("weekly_price"),
-contains("security_deposit"),
-contains("monthly_price"),
-contains("cleaning_fee"),
-contains("zipcode"), -contains("extra_people")) %>%
# add the columns we parsed earlier
bind_cols(air_parsed)
# double check that our data types are correct
str(airbnb_parsed)
glimpse(airbnb_parsed)
View(airbnb_parsed)
clearPushBack()
