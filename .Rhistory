gather(variable, is_missing, -row_number)
missing_by_column
View(missing_by_column)
tibble?
?tibble()
ggplot(missing_by_column, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Rows/observations")
ggplot(missing_by_column, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_gradient(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Rows/observations")
ggplot(missing_by_column, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_greyt(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Rows/observations")
ggplot(missing_by_column, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Rows/observations")
ggplot(missing_by_column, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Rows/observations")
pun_growth
pun_gdp
pun_growth
missin_by_col <- pun_growth %>%
as_tibble() %>%
mutate(row_number = 1:nrow(.)) %>%
missin_by_col <- pun_growth %>%
as_tibble() %>%
mutate(row_number = 1:nrow(.))
missin_by_col <- pun_growth %>%
is.na %>%
as_tibble() %>%
mutate(row_number = 1:nrow(.))
missin_by_col
pun_growth
View(pun_growth)
View(missin_by_col)
missing_by_col <- pun_growth %>%
is.na %>%
as_tibble() %>%
mutate(row_number = 1:nrow(.)) %>%
gather(variable, is_missing, -row_number)
View(missing_by_col)
missing_by_col <- pun_growth %>%
is.na %>%
as_tibble() %>% # Converstion to data-frame
mutate(row_number = 1:nrow(.)) %>% # add a clumn with the row number
gather(variable, -is_missing, row_number) # Conversion of wide data to narrow
missing_by_col <- pun_growth %>%
is.na %>%
as_tibble() %>% # Converstion to data-frame
mutate(row_number = 1:nrow(.)) %>% # add a clumn with the row number
gather(variable, is_missing, row_number)
missing_by_col
missing_by_col <- pun_growth %>%
is.na %>%
as_tibble() %>% # Converstion to data-frame
mutate(row_number = 1:nrow(.)) %>% # add a clumn with the row number
gather(variable, is_missing, row_number) # Conversion of wide data to narrow
missing_by_col
View(missing_by_col)
missing_by_col <- pun_growth %>%
is.na %>%
as_tibble() %>% # Converstion to data-frame
mutate(row_number = 1:nrow(.)) %>% # add a clumn with the row number
gather(variable, is_missing, -row_number) # Conversion of wide data to narrow
ggplot(missing_by_col, aes(x = variable, y = row_number, fill = is_missing ))
+ geom_tile() + theme_minimal() + scale_fill_grey(name = "", labels =
c("Present", "Missing")) + theme(axis.text.x =  element_text(angle = 45, vjust
= 0.5, size = 8)) + labs(x = "Variables in Dataset", y = "Rows/obs")
missing_by_col
ggplot(missing_by_col, aes(x = variable, y = row_number, fill = is_missing ))
+ geom_tile() + theme_minimal() + scale_fill_grey(name = "", labels =
c("Present", "Missing")) + theme(axis.text.x =  element_text(angle = 45, vjust
= 0.5, size = 8)) + labs(x = "Variables in Dataset", y = "Rows/obs")
missing_by_col <- pun_growth %>%
is.na %>%
as_tibble() %>% # Converstion to data-frame
mutate(row_number = 1:nrow(.)) %>% # add a clumn with the row number
gather(variable, is_missing, -row_number) # Conversion of wide data to narrow
missin_by_col
missing_by_col <- pun_growth %>%
is.na %>%
as_tibble() %>% # Converstion to data-frame
mutate(row_number = 1:nrow(.)) %>% # add a clumn with the row number
gather(variable, is_missing, -row_number)
missin_by_col
missing_by_col
ggplot(missing_by_column, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Rows/observations")
ggplot(missing_by_col, aes(x = variable, y = row_number, fill = is_missing ))
+ geom_tile() + theme_minimal() + scale_fill_grey(name = "", labels =
c("Present", "Missing")) + theme(axis.text.x =  element_text(angle = 45, vjust
= 0.5, size = 8)) + labs(x = "Variables in Dataset", y = "Rows/obs")
ggplot(missing_by_col, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Rows/observations")
getwd()
library(tidyverse)
library(mice)  # package for categorical and numeric imputations
### Other ways of plotting missing values
library(naniar)
library(visdat)
set.seed(5)
empty_model_gdp <- mice(pun_gdp, maxit = 0)
View(pun_gdp)
empty_model_gdp <- mice(pun_gdp, maxit = 0)
empty_model_gdp <- mice(pun_gdp, maxit = 0)
method <- empty_model_gdp$method
predictorMatrix <- empty_model$predictorMatrix
empty_model_gdp <- mice(pun_gdp, maxit = 0)
method <- empty_model_gdp$method
predictorMatrix <- empty_model_gdp$predictorMatrix
punjab_data2 %>%
rename(
Fatehgarh Sahib = Fatehgarh_sahib
)
punjab_data2 %>%
rename(
'Fatehgarh Sahib' = 'Fatehgarh_sahib'
)
View(punjab_data2)
punjab_data2
View(punjab_data2)
punjab_data2 %>%
rename(
'Fatehgarh Sahib' = Fatehgarh_sahib
)
punjab_data2 %>%
rename(
'Fatehgarh_Sahib' = Fatehgarh_sahib
)
punjab_data2 %>%
rename(
'Fatehgarh_sahib' = Fatehgarh_sahib
)
punjab_data2[["Fatehgarh Sahib"]]
punjab_data2 %>%
rename(
Fatehgarh Sahib = Fatehgarh_sahib
)
punjab_data2 %>%
rename(Fatehgarh Sahib = Fatehgarh_sahib)
library(tidyverse)
punjab_data2 %>%
rename(Fatehgarh Sahib = Fatehgarh_sahib)
library(dplyr)
punjab_data2 %>%
rename(Fatehgarh Sahib = Fatehgarh_sahib)
colnames(punjab_data2)
names(punjab_data2)[7] <- "Fatehgarh_sahib"
colnames(punjab_data2)
names(punjab_data2)[19] <- "Sahibzaha_ajit_singh_nagar"
names(punjab_data2)[21] <- "Sahid_bhagat_singh_nagar"
names(punjab_data2)[22] <- "Taran_tarn"
colnames(punjab_data2)
View(punjab_data2)
pun_gdp <- punjab_data2 %>%
filter(Description == 'GDP (in Rs. Cr.)')
pun_growth <- punjab_data2 %>%
filter(Description == 'Growth Rate % (YoY)')
pun_growth
## First create an empty model
empty_model_gdp <- mice(pun_gdp, maxit = 0)
method <- empty_model_gdp$method
predictorMatrix <- empty_model_gdp$predictorMatrix
View(empty_model_gdp)
names(punjab_data2)[7] <- "Fatehgarh_sahib"
names(punjab_data2)[19] <- "Sahibzaha_ajit_singh_nagar"
names(punjab_data2)[21] <- "Sahid_bhagat_singh_nagar"
names(punjab_data2)[22] <- "Taran_tarn"
names(punjab_data2)[7] <- "Fatehgarh_sahib"
names(punjab_data2)[19] <- "Sahibzaha_ajit_singh_nagar"
names(punjab_data2)[21] <- "Sahid_bhagat_singh_nagar"
names(punjab_data2)[22] <- "Taran_tarn"
View(empty_model_gdp)
imputed_data <- complete(imputed_data)
imputed_data <- mice(pun_gdp,
method, predictorMatr
imputed_data <- mice(pun_gdp,
method, predictorMatrix, m =
imputed_data
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 5)
# then pick one for each variable
imputed_data <- complete(imputed_data)
imputed_data
head(imputed_data)
head(imputed_data)
head(pun_gdp)
empty_model_gdp <- mice(pun_gdp, maxit = 0)
method <- empty_model_gdp$method
predictorMatrix <- empty_model_gdp$predictorMatrix
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 5)
# then pick one for each variable
imputed_data <- complete(imputed_data)
head(imputed_data)
method
imputed_data <- complete(imputed_data)
imputed_data
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 5)
imputed_data <- complete(imputed_data)
head(imputed_data)
pun_growth   # Seems lots of missing data, mal schauen
missing_by_col <- pun_growth %>%
is.na %>%
as_tibble() %>% # Converstion to data-frame
mutate(row_number = 1:nrow(.)) %>% # add a clumn with the row number
gather(variable, is_missing, -row_number) # Conversion of wide data to narrow
### Plot the missing values in our pun_grwoth data frame
ggplot(missing_by_col, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Rows/observations")
head(gdp_growth)
head(pun_growth)
library(mice)
View(pun_growth)
# Initialize an empty model to take the parameters from
empty <- mice(pun_growth, maxit = 0)
method <- empty$method
predictMatrix <- empty$predictMatrix
# first make a bunch of guess
imputed <- mice(pun_growth, method, predictMatrix, m = 5)
empty <- mice(pun_growth, maxit = 0)
method <- empty$method
predictMatrix <- empty$predictMatrix
# first make a bunch of guess
imputed <- mice(pun_growth, method, predictMatrix, m =
empty <- mice(pun_growth, maxit = 0)
method <- empty$method
predictMatrix <- empty$predictMatrix
# first make a bunch of guess
imputed <- mice(pun_growth, method, predictMatrix, m = 5)
imputed <- complte(imputed)
imputed <- complete(imputed)
imputed <- mice(pun_growth, method, predictMatrix, m = 5)
empty <- mice(pun_growth, maxit = 0)
method <- empty$method
predictMatrix <- empty$predictMatrix
imputed <- mice(pun_growth, method, predictMatrix, m = 5)
imputed <- complete(imputed)
empty <- mice(pun_growth, maxit = 0)
method <- empty$method
predictorMatrix <- empty$predictorMatrix
# first make a bunch of guess
imputed <- mice(pun_growth, method, predictorMatrix, m = 5)
# then pick one for each var
imputed <- complete(imputed)
head(empty)
head(imputed)
pun_gdp
empty_model_gdp <- mice(pun_gdp, maxit = 0)
method <- empty_model_gdp$method
predictorMatrix <- empty_model_gdp$predictorMatrix
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 5)
imputed_data <- complete(imputed_data)
head(imputed_data)
## Against trying to create an empty model
empty_model <- mice(pun_gdp, maxit = 0)
method <- empty_model$method
predictorMatrix <- empty_model_gdp$predictorMatrix
head(pun_growth)
empty <- mice(pun_growth, maxit = 0)
method <- empty$method
predictorMatrix <- empty$predictorMatrix
imputed <- mice(pun_growth, method, predictorMatrix, m = 5)
imputed <- complete(imputed)
head(imputed)
pun_gdp
vis_dat(punjab_data2)
vis_miss(punjab_data2)
gg_miss_var(punjab_data2)
gg_miss_var(pun_gdp)
gg_miss_var(imputed_data)
gg_miss_var(pun_growth)
gg_miss_var(imputed
gg_miss_var(imputed)
gg_miss_var(imputed)
rm(list=ls())
clearPushBack()
clear()
quit
quit()
getwd()
library(tidyverse)
library(mice)
library(dplyr)# package for categorical and numeric imputations
### Other ways of plotting missing values
library(naniar)
library(visdat)
set.seed(5)
punjab_data2 <- read_csv("gdp_Punjab2.csv")
View(punjab_data2)
str(punjab_data2)
punjab_data2[[8]]$Hoshiarpur
punjab_data2[[8]]$'Hoshiarpur'
punjab_data2$Hoshiarpur[[8]]
pun_gdp <- punjab_data2 %>%
filter(Description == 'GDP (in Rs. Cr.)')
pun_growth <- punjab_data2 %>%
filter(Description == 'Growth Rate % (YoY)')
View(pun_gdp)
VIew(pun_growth)
View(pun_growth)
vis_dat(punjab_data2)
vis_miss(punjab_data2)
gg_miss_var(punjab_data2)
viss_miss(punjab_growth)
viss_miss_var(pun_growth)
vis_miss_var(pun_gdp)
vis_miss(pun_gdp)
gg_miss_var(pun_gdp)
missin_by_col <-pun_gdp %>%
is.na %>%
as_data_frame()%>%
mutate(row_number = 1:nrow(.)) %>%
gather(variabe, is_missing, -row_number)
missi_by_col <-pun_gdp %>%
is.na %>%
tibble()%>% #### as_data_frame() deprecated to tibble()
mutate(row_number = 1:nrow(.)) %>%
gather(variabe, is_missing, -row_number)
rm(missin_by_col)
View(missi_by_col)
ggplot(missi_by_col, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Observations")
ggplot(missi_by_col, aes(x = variabe, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Observations")
missi_by_col <-pun_gdp %>%
is.na %>% # chech if each cell is NA
tibble()%>% #### as_data_frame() deprecated to tibble(); converstion to df
mutate(row_number = 1:nrow(.)) %>% # add a column with the row number
gather(variable, is_missing, -row_number) # Converstion of wide data to narrow
# Plot th missing values in our data frame
ggplot(missi_by_col, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Observations")
View(pun_gdp)
missi_by_col <- pun_gdp %>%
is.na %>% # chech if each cell is NA
as_tibble()%>% #### as_data_frame() deprecated to tibble(); converstion to df
mutate(row_number = 1:nrow(.))
View(missi_by_col)
gather(variable, is_missing, -row_number)
missi_by_col <- pun_gdp %>%
is.na %>% # chech if each cell is NA
as_tibble()%>% #### as_data_frame() deprecated to tibble(); converstion to df
mutate(row_number = 1:nrow(.)) %>% # add a column with the row number
gather(variable, is_missing, -row_number)
View(missi_by_col)
ggplot(missi_by_col, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Observations")
empty_model <- mice(pun_gdp, maxit = 0)
names(punjab_data2)[7] <- "Fatehgarh_sahib"
pun_gdp <- punjab_data2 %>%
filter(Description == 'GDP (in Rs. Cr.)')
pun_growth <- punjab_data2 %>%
filter(Description == 'Growth Rate % (YoY)')
missi_by_col <- pun_gdp %>%
is.na %>% # chech if each cell is NA
as_tibble()%>% #### as_data_frame() deprecated to tibble(); converstion to df
mutate(row_number = 1:nrow(.)) %>% # add a column with the row number
gather(variable, is_missing, -row_number) # Converstion of wide data to narrow
# Plot th missing values in our data frame
ggplot(missi_by_col, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Observations")
empty_model <- mice(pun_gdp, maxit = 0)
names(punjab_data2)[19] <- "Sahibzaha_ajit_singh_nagar"
names(punjab_data2)[21] <- "Sahid_bhagat_singh_nagar"
names(punjab_data2)[22] <- "Taran_tarn"
pun_gdp <- punjab_data2 %>%
filter(Description == 'GDP (in Rs. Cr.)')
pun_growth <- punjab_data2 %>%
filter(Description == 'Growth Rate % (YoY)')
missi_by_col <- pun_gdp %>%
is.na %>% # chech if each cell is NA
as_tibble()%>% #### as_data_frame() deprecated to tibble(); converstion to df
mutate(row_number = 1:nrow(.)) %>% # add a column with the row number
gather(variable, is_missing, -row_number) # Converstion of wide data to narrow
# Plot th missing values in our data frame
ggplot(missi_by_col, aes(x = variable, y = row_number,
fill = is_missing)) + geom_tile() + theme_minimal() +
scale_fill_grey(name = "", labels = c("Present", "Missing")) +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, size = 8)) +
labs(x = "Variables in Dataset", y = "Observations")
empty_model <- mice(pun_gdp, maxit = 0)
View(empty_model)
empty_model <- mice(pun_gdp, maxit = 0)
method <- empty_model$method
predictorMatrix <- empty_model$predictorMatrix
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 5)
imputed_data <- complete(imputed_data)
View(imputed_data)
View(pun_gdp)
empty_model_gdp <- mice(pun_gdp, maxit = 0)
method <- empty_model_gdp$method
predictorMatrix <- empty_model_gdp$predictorMatrix
# first making guesses
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 5)
# then pick one for each variable
imputed_data <- complete(imputed_data)
rm(empty_model)
View(imputed_data)
empty_model_gdp <- mice(pun_gdp, maxit = 0)
method <- empty_model_gdp$method
predictorMatrix <- empty_model_gdp$predictorMatrix
# first making guesses
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 5)
# then pick one for each variable
imputed_data <- complete(imputed_data)
View(imputed_data)
emp <- mice(pun_gdp, maxit = 0)
method <- emp$method
predictorMatrix <- emp$predictorMatrix
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 3)
imputed_data <- complete(imputed_data)
View(emp)
View(imputed_data)
emp <- mice(pun_gdp, maxit = 0)
method <- emp$method
predictorMatrix <- emp$predictorMatrix
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 0)
imputed_data <- complete(imputed_data)
emp <- mice(pun_gdp, maxit = 0)
pun_gdp$Barnala = ifelse(pun_gdp$Barnala == "NA", NA, pun_gdp$Barnala)
View(pun_gdp)
emp <- mice(pun_gdp, maxit = 0)
method <- emp$method
predictorMatrix <- emp$predictorMatrix
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 3)
imputed_data <- complete(imputed_data)
View(imputed_data)
imputed_data
emp <- mice(pun_gdp, maxit = 0)
method <- emp$method
predictorMatrix <- emp$predictorMatrix
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 5)
imputed_data <- complete(imputed_data)
imputed_data
emp <- mice(pun_gdp, maxit = 0)
method <- emp$method
predictorMatrix <- emp$predictorMatrix
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 5)
imputed_data <- complete(imputed_data)
emp <- mice(pun_gdp, maxit = 0)
method <- emp$method
predictorMatrix <- emp$predictorMatrix
imputed_data <- mice(pun_gdp, method, predictorMatrix, m = 3)
imputed_data <- complete(imputed_data)
vis_miss(pun_growth)
gg_miss_var(pun_growth)
head(pun_growth)
rm(empty_model_gdp)
empty <- mice(pun_growth, maxit = 0)
method <- empty$method
predictorMatrix <- empty$predictorMatrix
imputed <- mice(pun_growth, method, predictorMatrix, m = 7)
imputed <- complete(imputed)
head(imputed)
gg_miss_var(imputed_data)
gg_miss_var(imputed) ## This was the successfully
# imputed dataset
rm(list=ls())
getwd()
# libraries used
library(tidyverse)
library(outliers)
installed.packages(outliers)
install.packages(outliers)
install.packages('outliers')
library(tidyverse)
library(outliers)
d1 <- read_csv("deputies_dataset")
d2 <- read_csv("dirty_deputies_v2")
d1 <- read_csv("deputies_dataset.csv")
d2 <- read_csv("dirty_deputies_v2.csv")
str(d1)
View(d1)
View(d2)
str(d2)
summary(d1)
rm(list=ls())
